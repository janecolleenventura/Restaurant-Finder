webpackJsonp([1],{"4+hh":function(t,e){},AnE8:function(t,e){},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o("7+uW"),n={LOCATION:{1:"Cebu City",2:"Consolacion",3:"Lapu-Lapu City",4:"Mandaue City",5:"Talisay City"},CUISINE:{1:"American",2:"Asian",3:"British",4:"Coffee",5:"Chinese",6:"Dessert",7:"Filipino",8:"Indian",9:"International",10:"Italian",11:"Japanese",12:"Korean",13:"Mexican",14:"Seafood"},CATEGORY:{1:"Bar and Nightlife",2:"Cafe",3:"Dine in",4:"Eat All You Can",5:"Fast Food",6:"Street Food",7:"Finger Food"}},s={components:{ConstObj:n},data:function(){return{formObj:{categories:[7],cuisines:[14],location:[5]},Constants:n}},methods:{close:function(){this.$emit("closeModal")},submitData:function(){this.$emit("addFilter",this.formObj),this.close()}}},a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("md-dialog",{staticClass:"md-default",attrs:{"md-active":""}},[o("md-dialog-title",[t._v("Filters")]),t._v(" "),o("md-content",[o("div",{staticClass:"full-control"},[o("md-list",[o("md-subheader",[t._v("Categories")]),t._v(" "),t._l(t.Constants.CATEGORY,function(e,i){return o("div",{key:i,staticClass:"custom-checkbox"},[o("md-checkbox",{model:{value:t.formObj.categories[i],callback:function(e){t.$set(t.formObj.categories,i,e)},expression:"formObj.categories[key]"}}),t._v(" "),o("span",{staticClass:"md-list-item-text"},[t._v(t._s(e))])],1)})],2),t._v(" "),o("md-list",[o("md-subheader",[t._v("Cuisines")]),t._v(" "),t._l(t.Constants.CUISINE,function(e,i){return o("div",{key:i,staticClass:"custom-checkbox"},[o("md-checkbox",{model:{value:t.formObj.cuisines[i],callback:function(e){t.$set(t.formObj.cuisines,i,e)},expression:"formObj.cuisines[key]"}}),t._v(" "),o("span",{staticClass:"md-list-item-text"},[t._v(t._s(e))])],1)})],2),t._v(" "),o("md-list",[o("md-subheader",[t._v("Location")]),t._v(" "),t._l(t.Constants.LOCATION,function(e,i){return o("div",{key:i,staticClass:"custom-checkbox"},[o("md-checkbox",{model:{value:t.formObj.location[i],callback:function(e){t.$set(t.formObj.location,i,e)},expression:"formObj.location[key]"}}),t._v(" "),o("span",{staticClass:"md-list-item-text"},[t._v(t._s(e))])],1)})],2)],1),t._v(" "),o("md-dialog-actions",[o("md-button",{staticClass:"md-accent md-raised",on:{click:function(e){return t.close()}}},[t._v("Close")]),t._v(" "),o("md-button",{staticClass:"md-primary md-raised",on:{click:function(e){return t.submitData()}}},[t._v("Save")])],1)],1)],1)],1)},staticRenderFns:[]};var c=o("VU/8")(s,a,!1,function(t){o("SXFv")},"data-v-c17bf5fc",null).exports,r={props:{data:Array,constants:Object},components:{FilterModal:c},data:function(){return{showModal:!1,list:this.data}},methods:{setCoordinates:function(t){this.$emit("goToLocation",t)},closeModal:function(){this.showModal=!1},addFilter:function(t){var e=t.categories,o=t.cuisines,i=t.location,n=0,s=[];for(n=1;n<=e.length;n++)this.data.filter(function(t){s.some(function(e){return e.id===t.id})||!0!==e[n]||n!==t.category||s.push(t)});for(n=1;n<=o.length;n++)this.data.filter(function(t){s.some(function(e){return e.id===t.id})||!0!==o[n]||n!==t.cuisine||s.push(t)});for(n=1;n<=i.length;n++)this.data.filter(function(t){s.some(function(e){return e.id===t.id})||!0!==i[n]||n!==t.location||s.push(t)});this.list=s},resetFilter:function(){this.list=this.data}}},l={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("md-toolbar",{staticClass:"md-primary md-active"},[o("h3",{staticClass:"md-title"},[t._v("Restaurant Locator")]),t._v(" "),o("div",{staticClass:"btn-holder"},[o("md-button",{staticClass:"icon-btn",on:{click:function(e){t.showModal=!0}}},[o("span",{staticClass:"material-icons"},[t._v("\n            filter_alt\n          ")])]),t._v(" "),o("md-button",{staticClass:"icon-btn",on:{click:t.resetFilter}},[o("span",{staticClass:"material-icons"},[t._v("\n          view_headline\n          ")])])],1)]),t._v(" "),t._l(t.list,function(e){return o("md-list",{key:e.id,staticClass:"md-triple-line"},[o("md-list-item",[o("div",{staticClass:"md-list-item-text"},[o("a",{on:{click:function(o){return t.setCoordinates(e.geometry)}}},[o("span",[t._v(t._s(e.title))]),t._v(" "),o("span",[t._v(t._s(t.constants.CUISINE[e.cuisine]))]),t._v(" "),o("p",[t._v(t._s(t.constants.LOCATION[e.location]))])])])]),t._v(" "),o("md-divider",{staticClass:"md-inset"})],1)}),t._v(" "),t.showModal?o("FilterModal",{on:{closeModal:t.closeModal,addFilter:t.addFilter}}):t._e()],2)},staticRenderFns:[]},d=o("VU/8")(r,l,!1,null,null,null).exports,u=o("2iwE"),m=o("xQT3"),f=o.n(m),p={components:{MapboxGeocoder:f.a,Mapbox:u.a},props:{geo:Array},data:function(){return{coordinates:this.geo,mapBx:{}}},methods:{loaded:function(t){this.mapBx=t,t.addSource("data",{type:"geojson",data:"static/features.geojson"}),t.addLayer({id:"resto",type:"circle",source:"data",paint:{"circle-color":"orange","circle-radius":["step",["get","point_count"],20,5,30,8,40]}}),t.addControl(new f.a({accessToken:"pk.eyJ1IjoiamFuZWNvbGxlZW52ZW50dXJhIiwiYSI6ImNrbHFlOGF5cDFjMWoydnF5MHFyc3ZubDMifQ.dr0ZDspGsEGCx8ny8c9Usw",mapboxgl:t,marker:!1,placeholder:"Search for restaurants",bbox:[123.81571041619664,10.322879581550891,124.04513379288458,10.477085501223165],proximity:{longitude:123.8858,latitude:10.3157}}))},loadList:function(t){var e={},o={},i=[],n=!1,s={};t.getSource("data")&&t.isSourceLoaded("data")&&(t.querySourceFeatures("data").forEach(function(t){o=t.properties,s=t.geometry,e={},n=i.some(function(t){return t.id===o.ID}),0!==i.length&&n||(e.id=o.ID,e.title=o.Title,e.location=o.Location,e.cuisine=o.Cuisine,e.category=o.Category,e.geometry=s.coordinates,i.push(e))}),i.length>0&&this.$emit("loadSidebar",i))},goToLocation:function(t,e){t.flyTo({center:e,zoom:20})}},watch:{geo:function(t){this.coordinates=t,this.goToLocation(this.mapBx,t)}}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("mapbox",{attrs:{"access-token":"pk.eyJ1IjoiamFuZWNvbGxlZW52ZW50dXJhIiwiYSI6ImNrbHFlOGF5cDFjMWoydnF5MHFyc3ZubDMifQ.dr0ZDspGsEGCx8ny8c9Usw","map-options":{container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[123.8854,10.3157],zoom:11.3}},on:{"map-load":this.loaded,"map-sourcedata":this.loadList}})],1)},staticRenderFns:[]},v={components:{Sidebar:d,Map:o("VU/8")(p,h,!1,null,null,null).exports,ConstObj:n},data:function(){return{list:[],componentKey:0,labels:n,geo:[]}},methods:{loadSidebar:function(t){0===this.list.length&&(this.list=t,this.componentKey+=1)},goToLocation:function(t){this.geo=t}}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("md-app",{staticStyle:{height:"100vh"}},[e("md-app-drawer",{attrs:{"md-permanent":"full"}},[e("Sidebar",{key:this.componentKey,attrs:{constants:this.labels,data:this.list},on:{goToLocation:this.goToLocation}})],1),this._v(" "),e("md-app-content",[e("Map",{attrs:{geo:this.geo},on:{loadSidebar:this.loadSidebar}})],1)],1)],1)},staticRenderFns:[]},_=o("VU/8")(v,b,!1,null,null,null).exports,C=o("Lgyv"),g=o.n(C);o("4+hh"),o("AnE8");o("Q0/0"),i.default.use(g.a),i.default.config.productionTip=!0,new i.default({el:"#app",components:{App:_},template:"<App/>"})},"Q0/0":function(t,e){},SXFv:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.8494fe78bfa7a23e6f82.js.map