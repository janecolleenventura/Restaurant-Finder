webpackJsonp([1],{"4+hh":function(t,e){},AnE8:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("7+uW"),n={LOCATION:{1:"Cebu City",2:"Consolacion",3:"Lapu-Lapu City",4:"Mandaue City",5:"Talisay City"},CUISINE:{1:"American",2:"Asian",3:"British",4:"Coffee",5:"Chinese",6:"Dessert",7:"Filipino",8:"Indian",9:"International",10:"Italian",11:"Japanese",12:"Korean",13:"Mexican",14:"Seafood"},CATEGORY:{1:"Bar and Nightlife",2:"Cafe",3:"Dine in",4:"Eat All You Can",5:"Fast Food",6:"Street Food",7:"Finger Food"}},a={components:{ConstObj:n},data:function(){return{formObj:{categories:[7],cuisines:[14],location:[5]},Constants:n}},methods:{close:function(){this.$emit("closeModal")},submitData:function(){this.$emit("addFilter",this.formObj),this.close()}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("md-dialog",{staticClass:"md-default",attrs:{"md-active":""}},[i("md-dialog-title",[t._v("Filters")]),t._v(" "),i("md-content",[i("div",{staticClass:"full-control"},[i("md-list",[i("md-subheader",[t._v("Categories")]),t._v(" "),t._l(t.Constants.CATEGORY,function(e,o){return i("div",{key:o,staticClass:"custom-checkbox"},[i("md-checkbox",{model:{value:t.formObj.categories[o],callback:function(e){t.$set(t.formObj.categories,o,e)},expression:"formObj.categories[key]"}}),t._v(" "),i("span",{staticClass:"md-list-item-text"},[t._v(t._s(e))])],1)})],2),t._v(" "),i("md-list",[i("md-subheader",[t._v("Cuisines")]),t._v(" "),t._l(t.Constants.CUISINE,function(e,o){return i("div",{key:o,staticClass:"custom-checkbox"},[i("md-checkbox",{model:{value:t.formObj.cuisines[o],callback:function(e){t.$set(t.formObj.cuisines,o,e)},expression:"formObj.cuisines[key]"}}),t._v(" "),i("span",{staticClass:"md-list-item-text"},[t._v(t._s(e))])],1)})],2),t._v(" "),i("md-list",[i("md-subheader",[t._v("Location")]),t._v(" "),t._l(t.Constants.LOCATION,function(e,o){return i("div",{key:o,staticClass:"custom-checkbox"},[i("md-checkbox",{model:{value:t.formObj.location[o],callback:function(e){t.$set(t.formObj.location,o,e)},expression:"formObj.location[key]"}}),t._v(" "),i("span",{staticClass:"md-list-item-text"},[t._v(t._s(e))])],1)})],2)],1),t._v(" "),i("md-dialog-actions",[i("md-button",{staticClass:"md-accent md-raised",on:{click:function(e){return t.close()}}},[t._v("Close")]),t._v(" "),i("md-button",{staticClass:"md-primary md-raised",on:{click:function(e){return t.submitData()}}},[t._v("Save")])],1)],1)],1)],1)},staticRenderFns:[]};var c=i("VU/8")(a,s,!1,function(t){i("SXFv")},"data-v-c17bf5fc",null).exports,r={props:{data:Array,constants:Object},components:{FilterModal:c},data:function(){return{showModal:!1,list:this.data}},methods:{setCoordinates:function(t){this.$emit("goToLocation",t)},closeModal:function(){this.showModal=!1},addFilter:function(t){var e=t.categories,i=t.cuisines,o=t.location,n=0,a=[];for(n=1;n<=e.length;n++)this.data.filter(function(t){a.some(function(e){return e.id===t.id})||!0!==e[n]||n!==t.category||a.push(t)});for(n=1;n<=i.length;n++)this.data.filter(function(t){a.some(function(e){return e.id===t.id})||!0!==i[n]||n!==t.cuisine||a.push(t)});for(n=1;n<=o.length;n++)this.data.filter(function(t){a.some(function(e){return e.id===t.id})||!0!==o[n]||n!==t.location||a.push(t)});this.list=a},resetFilter:function(){this.list=this.data}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("md-toolbar",{staticClass:"md-primary md-active"},[i("h3",{staticClass:"md-title"},[t._v("Restaurant Locator")]),t._v(" "),i("div",{staticClass:"btn-holder"},[i("md-button",{staticClass:"icon-btn",on:{click:function(e){t.showModal=!0}}},[i("span",{staticClass:"material-icons"},[t._v("\n            filter_alt\n          ")])]),t._v(" "),i("md-button",{staticClass:"icon-btn",on:{click:t.resetFilter}},[i("span",{staticClass:"material-icons"},[t._v("\n          view_headline\n          ")])])],1)]),t._v(" "),t._l(t.list,function(e){return i("md-list",{key:e.id,staticClass:"md-triple-line"},[i("md-list-item",[i("div",{staticClass:"md-list-item-text"},[i("a",{on:{click:function(i){return t.setCoordinates(e.geometry)}}},[i("span",[t._v(t._s(e.title))]),t._v(" "),i("span",[t._v(t._s(t.constants.CUISINE[e.cuisine]))]),t._v(" "),i("p",[t._v(t._s(t.constants.LOCATION[e.location]))])])])]),t._v(" "),i("md-divider",{staticClass:"md-inset"})],1)}),t._v(" "),t.showModal?i("FilterModal",{on:{closeModal:t.closeModal,addFilter:t.addFilter}}):t._e()],2)},staticRenderFns:[]},d=i("VU/8")(r,l,!1,null,null,null).exports,u=i("2iwE"),m=i("1e2d"),h=i.n(m),p=i("xQT3"),f=i.n(p),v={components:{MapboxGeocoder:f.a,Mapbox:u.a,mapboxgl:h.a},props:{geo:Array},data:function(){return{coordinates:this.geo,mapBx:{},locationList:[],locator:{}}},methods:{loaded:function(t){this.mapBx=t;var e=this;t.addSource("data",{type:"geojson",data:"static/features.geojson"}),t.addLayer({id:"points",type:"circle",source:"data",paint:{"circle-color":"white","circle-radius":25,"circle-opacity":0}}),t.addControl(new f.a({accessToken:"pk.eyJ1IjoiamFuZWNvbGxlZW52ZW50dXJhIiwiYSI6ImNrbG50NHBhNTBtY24ydWw2d3FrOHEzNzIifQ.pGFk4OFUehABAB9dxmTJ6Q",mapboxgl:t,marker:!1,placeholder:"Search for restaurants",bbox:[123.81571041619664,10.322879581550891,124.04513379288458,10.477085501223165],proximity:{longitude:123.8858,latitude:10.3157}}));var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var t=JSON.parse(this.responseText);e.loadList(t.features,e.mapBx)}},i.open("GET","static/features.geojson",!0),i.send()},loadList:function(t,e){var i={},o={},n=this,a={};0===n.locationList.length&&(t.forEach(function(t){o=t.properties,a=t.geometry,(new h.a.Marker).setLngLat(a.coordinates).addTo(e),(i={}).id=o.ID,i.title=o.Title,i.location=o.Location,i.cuisine=o.Cuisine,i.category=o.Category,i.geometry=a.coordinates,n.locationList.push(i)}),n.locationList.length>0&&this.$emit("loadSidebar",n.locationList))},goToLocation:function(t,e){t.flyTo({center:e,zoom:20})}},watch:{geo:function(t){this.coordinates=t,this.goToLocation(this.mapBx,t)}}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("mapbox",{attrs:{"access-token":"pk.eyJ1IjoiamFuZWNvbGxlZW52ZW50dXJhIiwiYSI6ImNrbG50NHBhNTBtY24ydWw2d3FrOHEzNzIifQ.pGFk4OFUehABAB9dxmTJ6Q","map-options":{container:"map",style:"mapbox://styles/janecolleenventura/cklntbbu20i0a17pj9o4jvfje",center:[123.8854,10.3157],zoom:12}},on:{"map-load":this.loaded}})],1)},staticRenderFns:[]},_={components:{Sidebar:d,Map:i("VU/8")(v,b,!1,null,null,null).exports,ConstObj:n},data:function(){return{list:[],componentKey:0,labels:n,geo:[]}},methods:{loadSidebar:function(t){0===this.list.length&&(this.list=t,this.componentKey+=1)},goToLocation:function(t){this.geo=t}}},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("md-app",{staticStyle:{height:"100vh"}},[e("md-app-drawer",{attrs:{"md-permanent":"full"}},[e("Sidebar",{key:this.componentKey,attrs:{constants:this.labels,data:this.list},on:{goToLocation:this.goToLocation}})],1),this._v(" "),e("md-app-content",[e("Map",{attrs:{geo:this.geo},on:{loadSidebar:this.loadSidebar}})],1)],1)],1)},staticRenderFns:[]},g=i("VU/8")(_,C,!1,null,null,null).exports,y=i("Lgyv"),x=i.n(y);i("4+hh"),i("AnE8");i("Q0/0"),o.default.use(x.a),o.default.config.productionTip=!1,new o.default({el:"#app",components:{App:g},template:"<App/>"})},"Q0/0":function(t,e){},SXFv:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.86182da44a3e7eb99a6d.js.map